(this["webpackJsonpstart-wars-graphql"]=this["webpackJsonpstart-wars-graphql"]||[]).push([[0],{100:function(e,a,t){},101:function(e,a,t){},115:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(25),o=t.n(c),l=(t(97),t(98),t(132)),s=t(133),i=t(134);var u=function(){return n.a.createElement("h1",null,"404: Not Found")},p=t(27),m=t.n(p),d=t(35),h=t(74),f=t(75),g=t(87),b=t(86),E=t(36),y=(t(100),t(101),t(26)),v={addProductCar:function(e){return{type:"ADD_CHARACTER",payload:e}}},C=Object(y.b)(null,v)((function(e){var a=e.character;return n.a.createElement("div",{className:"character-card-container"},n.a.createElement("div",{className:"character-card-container-images"},n.a.createElement("img",{src:a.image,alt:"Cowboy Rick"})),n.a.createElement("div",{className:"character-card-container-description"},n.a.createElement("div",{className:"section"},n.a.createElement("a",{href:"https://rickandmortyapi.com/api/character/".concat(a.id),rel:"nofollow noopener noreferrer",target:"_blank",className:"mx-3"},n.a.createElement("h2",null,a.name)),n.a.createElement("span",{className:"status"},n.a.createElement("span",{className:"status__icon"})," ",a.status)),n.a.createElement("div",{className:"section"},n.a.createElement("span",{className:"text-gray"},"Last known location:"),n.a.createElement("a",{href:"https://rickandmortyapi.com/api/location/".concat(a.episode[0].id),rel:"nofollow noopener noreferrer",target:"_blank",className:"mx-3"},a.location.name)),n.a.createElement("div",{className:"section"},n.a.createElement("span",{className:"text-gray"},"First seen in:"),n.a.createElement("a",{href:"https://rickandmortyapi.com/api/episode/".concat(a.episode[0].id),rel:"nofollow noopener noreferrer",target:"_blank",className:"mx-3"},a.episode[0].name))))})),O=t(131),j=t(41);function N(){var e=Object(E.a)(["\n            query getCharactersByPage($page: Int) {"]);return N=function(){return e},e}function w(){var e=Object(E.a)(["\n            query getCharactersByPage($page: Int) {\n              characters(page: $page) {\n                  info {\n                      pages\n                  }\n                  results {\n                      id, name, image, status, species, \n                      episode{\n                        id, name\n                      },location{\n                        id, name\n                      }                  }\n              }\n            }"]);return w=function(){return e},e}var k=new j.ApolloClient({uri:"https://rickandmortyapi.com/graphql",cache:new j.InMemoryCache}),x={getCharacters:function(){var e=Object(d.a)(m.a.mark((function e(){var a,t,r,n=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>0&&void 0!==n[0]?n[0]:Number,e.prev=1,e.next=4,k.query({query:Object(j.gql)(w()),variables:{page:a}});case 4:return t=e.sent,r=t.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),getCharacter:function(){var e=Object(d.a)(m.a.mark((function e(){var a,t,r=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:Number,e.prev=1,e.next=4,k.query({query:Object(j.gql)(N()),variables:{}});case 4:return a=e.sent,t=a.data,e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},A=t(55),R=t(80),q=t.n(R);function D(){var e=Object(E.a)(["\n\tdisplay: block;\n\tmargin: 0 auto;\n\tborder-color: blue;\n"]);return D=function(){return e},e}var _=Object(A.css)(D()),P=function(e){Object(g.a)(t,e);var a=Object(b.a)(t);function t(){var e;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).state={loading:!0,error:!1,characters:[],charactersCurrent:[],pages:[1],page:1,count:1},e.fetchData=Object(d.a)(m.a.mark((function a(){var t,r,n=arguments;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,e.setState({loading:!0,error:null}),a.prev=2,a.next=5,x.getCharacters(t);case 5:r=a.sent,e.setState({loading:!1,error:null,count:r.characters.info.pages,charactersCurrent:r.characters.results,page:t}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),e.setState({loading:!1,error:a.t0,page:1});case 12:case"end":return a.stop()}}),a,null,[[2,9]])}))),e.handleChange=function(a,t){e.fetchData(t)},e}return Object(f.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return n.a.createElement("main",{className:"container-full"},n.a.createElement("section",{className:"title-page-container"},n.a.createElement("h1",{className:"title-page"},"Rick And Morty Characters")),n.a.createElement("div",{className:"sweet-loading mt-4"},n.a.createElement(q.a,{css:_,size:150,color:"#123abc",loading:this.state.loading})),!this.state.loading&&n.a.createElement(n.a.Fragment,null,n.a.createElement("section",{className:"container-all-characters"},n.a.createElement("div",{className:"container-characters"},this.state.charactersCurrent.map((function(e){return n.a.createElement(C,{key:e.id,character:e})})))),n.a.createElement("section",{className:"py-4 d-flex justify-content-center"},n.a.createElement(O.a,{count:this.state.count,page:this.state.page,onChange:this.handleChange}))))}}]),t}(r.Component),F=t(130),H=Object(y.b)((function(e){return{product:e.product}}),null)((function(e){return n.a.createElement("header",{className:""},n.a.createElement(F.a,{to:"/buy",className:"btn"}))})),I=function(e){return n.a.createElement("footer",{className:"text-center footer-container p-4"},n.a.createElement("span",null,"\xa9 Copyright 2020. DEVELOPED by Nicolas Pastran Zamora"))},M=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(H,null),e.children,n.a.createElement(I,null))},T=Object(y.b)((function(e){return{user:e.user}}),null)((function(e){return n.a.createElement(l.a,null,n.a.createElement(M,null,n.a.createElement(s.a,null,n.a.createElement(i.a,{exact:!0,path:"/",component:P}),n.a.createElement(i.a,{component:u}))))})),B=t(47),L=t(85),S=t(21),$=function(e,a){switch(a.type){case"ADD_CHARACTER":var t=e.charactersCar,r=t.map((function(e){return e.id})).indexOf(a.payload.id);if(-1===r){var n={count:1,id:a.payload.id,price:a.payload.price,name:a.payload.name};return Object(S.a)(Object(S.a)({},e),{},{charactersCar:[].concat(Object(L.a)(e.charactersCar),[n]),total:e.total+a.payload.price})}return t[r].count=t[r].count+1,Object(S.a)(Object(S.a)({},e),{},{charactersCar:t,total:e.total+a.payload.price});case"REMOVE_CHARACTER":var c=e.charactersCar,o=c.map((function(e){return e.id})).indexOf(a.payload.id);return 1===c[o].count?Object(S.a)(Object(S.a)({},e),{},{charactersCar:c.filter((function(e){return e.id!==a.payload.id})),total:e.total-a.payload.price}):(c[o].count=c[o].count-1,Object(S.a)(Object(S.a)({},e),{},{charactersCar:c,total:e.total-a.payload.price}));case"CLEAR_CHARACTER":return Object(S.a)(Object(S.a)({},e),{},{charactersCar:[],total:0});default:return e}},J={characters:[],user:{}},V=Object(B.b)($,J);o.a.render(n.a.createElement(y.a,{store:V},n.a.createElement(T,null)),document.getElementById("app"))},92:function(e,a,t){e.exports=t(115)},98:function(e,a,t){}},[[92,1,2]]]);
//# sourceMappingURL=main.c17ca243.chunk.js.map